## CRIAÇÃO DE TOKEN DE ACESSO

```sh
╔═════════════════════════════════╦═════════════════════════════════╗
║ USUÁRIO                         ║ SERVIDOR DE ACESSO              ║
╟─────────────────────────────────╫─────────────────────────────────╢
║ ╭───────────────────────────╮   ║                                 ║
║ │ solicita criação de token │   ║                                 ║
║ ╰┬──────────────────────────╯   ║                                 ║
║  │ login, senha, application_id ║                                 ║
║  ╰──────────────────────────────╫─────────────────────────╮       ║
║                                 ║                         │       ║
║                                 ║ ╭───────────────────────┴╮      ║
║                                 ║ │ cria ou atualiza token │      ║
║                                 ║ ╰───────────────────────┬╯      ║
║                                 ║                   token │       ║
║                        ╭────────╫─────────────────────────╯       ║
║                        │        ║                                 ║
║ ╭──────────────────────┴╮       ║                                 ║
║ │ armazena o token para │       ║                                 ║
║ │ requisições futuras   │       ║                                 ║
║ ╰───────────────────────╯       ║                                 ║
╚═════════════════════════════════╩═════════════════════════════════╝

```

## ATUALIZAÇÃO DE TOKEN DE ACESSO 

```
╔═══════════════════════════════════════════╦═══════════════════════════════════════════╗
║ USUÁRIO OU APLICAÇÃO                      ║ SERVIDOR DE ACESSO                        ║
╟───────────────────────────────────────────╫───────────────────────────────────────────╢
║ ╭───────────────────────────────╮         ║                                           ║
║ │ solicita atualização de token │         ║                                           ║
║ ╰┬──────────────────────────────╯         ║                                           ║
║  │ token                                  ║                                           ║
║  ╰────────────────────────────────────────╫────────────────────────────────────────╮  ║
║                                           ║                                        │  ║
║                                           ║ ╭──────────────────────────────────────┴╮ ║
║                                           ║ │ atualiza token, caso encontrado       │ ║
║                                           ║ ╰┬──────────┬───┬──────────────────────┬╯ ║
║                                           ║  │ atualiza │   │ token não encontrado │  ║
║                                           ║  ╰─────────┬╯   ╰─────────────────────┬╯  ║
║                                           ║ novo_token │                          │   ║
║                        ╭──────────────────╫────────────╯                          │   ║
║                        │                  ║                                       │   ║
║ ╭──────────────────────┴╮                 ║                                       │   ║
║ │ armazena o token para │                 ║                                       │   ║
║ │ requisições futuras   │                 ║                                       │   ║
║ ╰───────────────────────╯                 ║                                       │   ║
║                                        ╭──╫───────────────────────────────────────╯   ║
║                       ╭────────────────┴╮ ║                                           ║
║                       │ mostra mensagem │ ║                                           ║
║                       │ de erro         │ ║                                           ║
║                       ╰─────────────────╯ ║                                           ║
║                                           ║                                           ║
╚═══════════════════════════════════════════╩═══════════════════════════════════════════╝
```

## EXCLUSÃO DE TOKEN DE ACESSO / LOGOUT 

```
╔═══════════════════════════════════════════╦═══════════════════════════════════════════╗ 
║ USUÁRIO OU APLICAÇÃO                      ║ SERVIDOR DE ACESSO                        ║
╟───────────────────────────────────────────╫───────────────────────────────────────────╢
║ ╭────────────────────────────╮            ║                                           ║
║ │ solicita exclusão de token │            ║                                           ║
║ ╰┬───────────────────────────╯            ║                                           ║
║  │ token                                  ║                                           ║
║  ╰────────────────────────────────────────╫────────────────────────────────────────╮  ║
║                                           ║                                        │  ║
║                                           ║ ╭──────────────────────────────────────┴╮ ║
║                                           ║ │ exclui token, caso encontrado         │ ║
║                                           ║ ╰┬──────────┬───┬──────────────────────┬╯ ║
║                                           ║  │ atualiza │   │ token não encontrado │  ║
║                                           ║  ╰─────────┬╯   ╰─────────────────────┬╯  ║
║                                           ║ novo_token │                          │   ║
║                  ╭────────────────────────╫────────────╯                          │   ║
║                  │                        ║                                       │   ║
║ ╭────────────────┴╮                    ╭──╫───────────────────────────────────────╯   ║
║ │ mostra mensagem │   ╭────────────────┴╮ ║                                           ║
║ │ de sucesso (?)  │   │ mostra mensagem │ ║                                           ║
║ ╰─────────────────╯   │ de erro (?)     │ ║                                           ║
║                       ╰─────────────────╯ ║                                           ║
║                                           ║                                           ║
╚═══════════════════════════════════════════╩═══════════════════════════════════════════╝
```

## VERIFICAÇÂO DE PERMISSÂO PARA AÇÂO ESPECÍFICA 

```
╔════════════════════════════════════════════════════╦════════════════════════════════════════════════════╦════════════════════════════════════════════════════╗
║ USUÁRIO                                            ║ SERVIDOR DE ACESSO                                 ║                                                    ║
╟────────────────────────────────────────────────────╫────────────────────────────────────────────────────╫────────────────────────────────────────────────────╢
║ ╭───────────────────────────╮                      ║                                                    ║                                                    ║
║ │ solicita execução de ação │                      ║                                                    ║                                                    ║
║ ╰┬──────────────────────────╯                      ║                                                    ║                                                    ║
║  │ {dados}, token                                  ║                                                    ║                                                    ║
║  ╰─────────────────────────────────────────────────╫────────────────────────────────────────────────────╫──────────────────────────╮                         ║
║                                                    ║                                                    ║                          │                         ║
║                                                    ║                                                    ║                         ╭┴───────────────────╮     ║
║                                                    ║                                                    ║                         │ solicita permissão │     ║
║                                                    ║                                                    ║                         ╰┬───────────────────╯     ║
║                                                    ║                                                    ║   token, application_id, │                         ║
║                                                    ║                                                 ╭──╫──────────────────────────╯                         ║
║                                                    ║     ╭───────────────────────────────────────────┴╮ ║   action_name                                      ║
║                                                    ║     │ verifica se o token tem permição para      │ ║                                                    ║
║                                                    ║     │ executar ação específicada por action_name │ ║                                                    ║
║                                                    ║     ╰┬─────────┬──┬──────┬───────────────────────╯ ║                                                    ║
║                                                    ║      │ permite │  │ nega │                         ║                                                    ║
║                                                    ║      ╰────────┬╯  ╰─────┬╯                         ║                                                    ║
║                                                    ║               │         │                          ║                                                    ║
║                                                    ║               │         ╰──────────────────────────╫──────────────────────────────────╮                 ║
║                                                    ║               ╰────────────────────────────────────╫─────────────╮                   ╭┴───────────────╮ ║
║                                                    ║                                                    ║            ╭┴─────────────────╮ │ trata mensagem │ ║
║                                                    ║                                                    ║            │ executa ação (?) │ ╰┬───────────────╯ ║
║                                                    ║                                                    ║            ╰┬─────────────────╯  │                 ║
║                                                    ║                                                    ║  retorna(?) │                    │                 ║
║                     ╭──────────────────────────────╫────────────────────────────────────────────────────╫─────────────╯                    │                 ║
║ ╭───────────────────┴╮                             ║                                                    ║                    acesso negado │                 ║
║ │ ação executada com │                          ╭──╫────────────────────────────────────────────────────╫──────────────────────────────────╯                 ║
║ │ sucesso (?)        │         ╭────────────────┴╮ ║                                                    ║                                                    ║
║ ╰────────────────────╯         │ mostra mensagem │ ║                                                    ║                                                    ║
║                                │ de erro (?)     │ ║                                                    ║                                                    ║
║                                ╰─────────────────╯ ║                                                    ║                                                    ║
║                                                    ║                                                    ║                                                    ║
╚════════════════════════════════════════════════════╩════════════════════════════════════════════════════╩════════════════════════════════════════════════════╝
```
